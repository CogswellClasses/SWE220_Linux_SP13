
<div id="status"></div>

<form id="theForm">

User: <input type="text" name="user"></br>

Latitude: <input type="hidden" name="latitude"><br>

Longitude: <input type="hidden" name="longitude"><br>

<input type="button" value="Locate" onclick="getLocation()">
<input type="submit" value="Submit" formaction="cgi-bin/test.py">
</form>


<script>

var form=document.getElementById("theForm");

function showPosition(position){
  form.latitude.value = position.coords.latitude;
  form.longitude.value = position.coords.longitude;
  }

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
    }
  else {
    getElementById("status").innerHTML="Geolocation is not supported by this browser.";
    }
}

// getLocation();

</script>
 


